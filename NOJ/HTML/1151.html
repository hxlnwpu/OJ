<html>
 <body>
  <div style="width: 980px;background-color: #FFFFFF;">
   <h3 style="color:#1A5CC8">
    1151.越野跑
   </h3>
   <h4>
    时限：1000ms 内存限制：10000K  总时限：3000ms
   </h4>
   <div align="left" class="panel_title">
    描述
   </div>
   <div class="panel_content">
    为了能在下一次跑步比赛中有好的发挥，贝茜在一条山路上开始了她的训练
    <br/>
    。贝茜希望能在每次训练中跑得尽可能远，不过她也知道农场中的一条规定：
    <br/>
    奶牛独自进山的时间不得超过M秒(1 &lt;= M &lt;= 10,000,000)。
    <br/>
    <br/>
    整条山路被贝茜划分成T个长度相同的小段(1 &lt;= T &lt;= 100,000)，并且，
    <br/>
    贝茜用S_i表示第i个小段的路况。S_i为u，f，d这3个字母之一，它们分别表示
    <br/>
    第i个小段是上坡、平地，或是下坡。
    <br/>
    <br/>
    贝茜要花U秒(1 &lt;= U &lt;= 100)才能跑完一段上坡路，跑完一段平地的耗时是
    <br/>
    F秒(1 &lt;= F &lt;= 100)，跑完一段下坡路要花D秒(1 &lt;= D &lt;= 100)。注意，沿山路
    <br/>
    原路返回的时候，原本是上坡路的路段变成了下坡路，原本是下坡路的路段变成
    <br/>
    了上坡路。
    <br/>
    <br/>
    贝茜想知道，在能按时返回农场的前提下，她最多能在这条山路上跑多远。
   </div>
   <div class="panel_bottom">
   </div>
   <div align="left" class="panel_title">
    输入
   </div>
   <div class="panel_content">
    * 第1行: 5个用空格隔开的整数：M，T，U，F，以及D
    <br/>
    <br/>
    * 第2..T+1行: 第i+1行为1个字母S_i，描述了第i段山路的路况
   </div>
   <div class="panel_bottom">
   </div>
   <div align="left" class="panel_title">
    输出
   </div>
   <div class="panel_content">
    * 第1行: 输出1个整数，为贝茜在按时回到农场的前提下，最多能跑到多远
   </div>
   <div class="panel_bottom">
   </div>
   <div align="left" class="panel_title">
    输入样例
   </div>
   <div class="panel_content">
    13 5 3 2 1
    <br/>
    u
    <br/>
    f
    <br/>
    u
    <br/>
    d
    <br/>
    f
    <br/>
    <br/>
    输入说明:
    <br/>
    <br/>
    贝茜跑步的最大耗时为13秒（这么短...），她跑步的山路一共被划成5段。
    <br/>
    贝茜跑完一段上坡路的耗时为3秒，平地为2秒，下坡路为1秒。山路各段的走向
    <br/>
    如下图所示：
    <br/>
    _/\_
    <br/>
    /
   </div>
   <div class="panel_bottom">
   </div>
   <div align="left" class="panel_title">
    输出样例
   </div>
   <div class="panel_content">
    <br/>
    3
    <br/>
    <br/>
    输出说明:
    <br/>
    <br/>
    贝茜跑完山路的前3段，然后返回，总耗时为3 + 2 + 3 + 1 + 2 + 1 = 12
    <br/>
    秒，只比她能在外面呆的时限少1秒。如果她跑得更远，就无法按时回到农场。
   </div>
   <div class="panel_bottom">
   </div>
   <div align="left" class="panel_title">
    提示
   </div>
   <div class="panel_content">
   </div>
   <div class="panel_bottom">
   </div>
   <div align="left" class="panel_title">
    来源
   </div>
   <div class="panel_content">
    USACO月赛
   </div>
   <div class="panel_bottom">
   </div>
  </div>
  <input id="SubmitButton" name="SubmitButton" onclick="SubmitProblem(1151)" type="button" value="提交"/>
 </body>
</html>