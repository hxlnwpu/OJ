<html>
 <body>
  <div style="width: 980px;background-color: #FFFFFF;">
   <h3 style="color:#1A5CC8">
    1176.程序分析器(Analyser)
   </h3>
   <h4>
    时限：1000ms 内存限制：10000K  总时限：3000ms
   </h4>
   <div align="left" class="panel_title">
    描述
   </div>
   <div class="panel_content">
    程序分析器(Analyser)  (case时间限制2秒, 总时间限制3秒)
    <br/>
    <br/>
    Tiny Basm语言(简称为TB语言)的巴科斯-瑙尔范式(BNF)为：
    <br/>
    &lt;程序&gt;      ::= &lt;语句&gt; &lt;回车换行&gt; { &lt;语句&gt;&lt;回车换行&gt; }
    <br/>
    &lt;语句&gt;      ::= &lt;行号&gt; &lt;空格&gt; &lt;语句体&gt;
    <br/>
    &lt;语句体&gt;    ::= &lt;累加语句&gt; | &lt;输出语句&gt; | &lt;转移语句&gt; | &lt;条件语句&gt; | &lt;结束语句&gt;
    <br/>
    &lt;累加语句&gt;  ::= &lt;变量&gt; + &lt;整数&gt;
    <br/>
    &lt;输出语句&gt;  ::= &lt;变量&gt; ?
    <br/>
    &lt;转移语句&gt;  ::= GO &lt;空格&gt; &lt;行号&gt;
    <br/>
    &lt;条件语句&gt;  ::= IF &lt;空格&gt; &lt;变量&gt; = &lt;整数&gt; &lt;空格&gt; &lt;转移语句&gt;
    <br/>
    &lt;结束语句&gt;  ::= END
    <br/>
    &lt;变量&gt;      ::= &lt;字母&gt;
    <br/>
    &lt;行号&gt;      ::= &lt;整数&gt;
    <br/>
    &lt;整数&gt;      ::= &lt;数字&gt; { &lt;数字&gt; }
    <br/>
    &lt;字母&gt;      ::= A|B|C|D|E|F|G|H|I|J|K|L|M|N|O|P|Q|R|S|T|U|V|W|X|Y|Z
    <br/>
    &lt;数字&gt;      ::= 0|1|2|3|4|5|6|7|8|9
    <br/>
    <br/>
    注：
    <br/>
    其中“::=”表示“定义为”，
    <br/>
    “|”表示或，
    <br/>
    {}内的项可以重复任意多次或不出现，
    <br/>
    &lt;空格&gt;表示空格(一个字符，ASCII码为32)，
    <br/>
    &lt;回车换行&gt;表示回车/换行(两个字符，ASCII码分别为13和10)。
    <br/>
    <br/>
    错误语句示例(在输入文件中不会出现任何错误语句)：
    <br/>
    10 A+1.5                    （不符合累加语句的定义，所加的不是整数）
    <br/>
    20 A ?                      （不符合输出语句的定义，多加了一个空格）
    <br/>
    30 IF A=B GO 10             （不符合条件语句的定义，不应变量=变量）
    <br/>
    <br/>
    TB程序的执行：
    <br/>
    * 程序从行号最小的一条语句开始执行，在未遇到条件语句时按行号由小至大顺序执行。
    <br/>
    * 所有变量在程序执行前被自动初始化为0。
    <br/>
    * 累加语句将语句中变量的值加上语句中的整数送回该变量。
    <br/>
    * 输出语句将语句中变量的值在监视器上显示出来。
    <br/>
    * 执行条件语句时，当且仅当该语句中的变量与紧跟在等号后面的整数值相等，后面的转移语句才被执行。该语句中的所有整数值至多为4位。
    <br/>
    * 转移语句被执行后，程序将转去执行GO后面指定的行号的语句。
    <br/>
    * 当程序执行结束语句后，结束整个程序的执行。
    <br/>
    * 假设该系统能处理任意大小的整数，而不会发生溢出。
    <br/>
    <br/>
    请编程，对于给定的TB语言程序P，求该程序所执行的语句数(执行条件语句不论是否成功转移，仅记为执行一条语句)。
    <br/>
   </div>
   <div class="panel_bottom">
   </div>
   <div align="left" class="panel_title">
    输入
   </div>
   <div class="panel_content">
    * 输入文件为一个TB语言程序P，语句数不超过100行。
    <br/>
    * P中每条语句的长度不超过20个字符。
    <br/>
    * P中转移语句里GO后面的行号一定有对应的语句。
    <br/>
    * P中可能有多个不同行号的结束语句。
    <br/>
    * P中行号最大的语句一定是结束语句。
    <br/>
    * P中的行号都不大于3000。
    <br/>
    * 输入文件不一定是按行号递增顺序给出P的。
   </div>
   <div class="panel_bottom">
   </div>
   <div align="left" class="panel_title">
    输出
   </div>
   <div class="panel_content">
    * 输出文件有且仅有一行：
    <br/>
    如果程序能够正常结束，输出该程序所执行的语句数；
    <br/>
    如果程序不能正常结束，输出-1。
   </div>
   <div class="panel_bottom">
   </div>
   <div align="left" class="panel_title">
    输入样例
   </div>
   <div class="panel_content">
    10 A+1
    <br/>
    20 IF A=5 GO 60
    <br/>
    60 END
    <br/>
    30 A+2
    <br/>
    40 A?
    <br/>
    50 GO 20
    <br/>
   </div>
   <div class="panel_bottom">
   </div>
   <div align="left" class="panel_title">
    输出样例
   </div>
   <div class="panel_content">
    11
    <br/>
   </div>
   <div class="panel_bottom">
   </div>
   <div align="left" class="panel_title">
    提示
   </div>
   <div class="panel_content">
    [样例说明]
    <br/>
    执行语句行号按顺序为
    <br/>
    10 20 30 40 50 20 30 40 50 20 60
    <br/>
    共11条语句被执行。
    <br/>
   </div>
   <div class="panel_bottom">
   </div>
   <div align="left" class="panel_title">
    来源
   </div>
   <div class="panel_content">
   </div>
   <div class="panel_bottom">
   </div>
  </div>
  <input id="SubmitButton" name="SubmitButton" onclick="SubmitProblem(1176)" type="button" value="提交"/>
 </body>
</html>